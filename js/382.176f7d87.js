"use strict";(self["webpackChunkvue_router"]=self["webpackChunkvue_router"]||[]).push([[382],{9382:function(e,s,a){a.r(s),a.d(s,{default:function(){return we}});var t=a(6252),l=a(3577);const d=e=>((0,t.dD)("data-v-219984ea"),e=e(),(0,t.Cn)(),e),r=(0,t.uE)('<div data-v-219984ea><div class="d-flex justify-content-around w-50 mx-auto my-5" data-v-219984ea><div data-v-219984ea><div class="rounded-pill text-center order-shape-light mx-auto mb-1" data-v-219984ea><p class="pt-2" data-v-219984ea>1</p></div><p class="text-center fs-7" data-v-219984ea>填寫資料</p></div><div data-v-219984ea><div class="rounded-pill text-center order-shape mx-auto mb-1" data-v-219984ea><p class="pt-2" data-v-219984ea>2</p></div><p class="text-center fs-7" data-v-219984ea>確認訂單</p></div><div data-v-219984ea><div class="rounded-pill text-center order-shape-light mx-auto mb-1" data-v-219984ea><p class="pt-2" data-v-219984ea>3</p></div><p class="text-center fs-7" data-v-219984ea>購買完成</p></div></div></div>',1),c={class:"container"},i={class:"row g-md-5 g-0 justify-content-around"},o={class:"col-12 col-lg-6"},n={class:"table-cus mb-5"},p=d((()=>(0,t._)("h5",{class:"h5 bg-danger bg-gradient rounded-top p-3 text-white",style:{"--bs-bg-opacity":"0.5"}}," 確認購物車內容 ",-1))),u={class:"px-4"},_={class:"w-100 mt-4"},m=d((()=>(0,t._)("thead",{class:"thead"},[(0,t._)("tr",{class:"text-center"},[(0,t._)("th",{scope:"col",class:"py-3"},"商品資訊"),(0,t._)("th",{scope:"col"},"小計")])],-1))),v={class:"border-bottom"},h={class:"p-3"},b={class:"d-md-flex d-block align-items-center"},g=["src","alt"],w={class:"mt-2"},x={class:"text-secondary text"},y={key:0},k={key:1,class:"text-danger"},f=d((()=>(0,t._)("br",null,null,-1))),z={class:"text-secondary fs-7"},$={class:"mt-4"},D={class:"w-50 mt-3 text-end"},T={class:"d-flex justify-content-between"},L=d((()=>(0,t._)("p",null,"商品結帳金額",-1))),M={class:"text-danger"},N={class:"col-12 col-lg-6 mt-0 control"},U={class:"table-cus my-5"},V=d((()=>(0,t._)("h5",{class:"h5 bg-danger bg-gradient rounded-top p-3 text-white",style:{"--bs-bg-opacity":"0.5"}}," 確認顧客資訊 ",-1))),j={class:"px-5 py-4 text-center"},C={class:"col-12"},O={class:"list-unstyled text-start"},W={class:"mb-3 text-danger"},E=d((()=>(0,t._)("h6",{class:"text-main fs-6 mb-0"},"訂單金額",-1))),q={class:"word-break"},A={class:"mb-3"},F=d((()=>(0,t._)("h6",{class:"mb-0"},"訂單編號",-1))),H={class:"word-break"},P={class:"mb-3"},S=d((()=>(0,t._)("h6",{class:"mb-0"},"訂購時間",-1))),Y={class:"word-break"},I={class:"mb-3"},K=d((()=>(0,t._)("h6",{class:"mb-0"},"收件人姓名",-1))),Z=d((()=>(0,t._)("p",{class:"word-break"},null,-1))),B={class:"mb-3"},G=d((()=>(0,t._)("h6",{class:"mb-0"},"Email",-1))),J={class:"word-break"},Q={class:"mb-3"},R=d((()=>(0,t._)("h6",{class:"mb-0"},"電話",-1))),X={class:"word-break"},ee={class:"mb-3"},se=d((()=>(0,t._)("h6",{class:"mb-0"},"收件地址",-1))),ae=d((()=>(0,t._)("p",{class:"word-break"},null,-1))),te={class:"mb-3"},le=d((()=>(0,t._)("h6",{class:"mb-0"},"留言",-1))),de={key:0,class:"word-break"},re={key:1,class:"word-break"},ce={class:"mb-3"},ie=d((()=>(0,t._)("h6",{class:"mb-0"},"付款方式",-1))),oe={class:"mb-3"},ne=d((()=>(0,t._)("option",{value:"",selected:"",disabled:""}," 請選擇付款方式 ",-1))),pe=d((()=>(0,t._)("option",{value:"ATM"},"ATM 轉帳",-1))),ue=d((()=>(0,t._)("option",{value:"visa"},"信用卡",-1))),_e=d((()=>(0,t._)("option",{value:"visa"},"超商付款",-1))),me=["disabled"];function ve(e,s,a,d,ve,he){const be=(0,t.up)("LoadingOverlay"),ge=(0,t.up)("VField"),we=(0,t.up)("ErrorMessage"),xe=(0,t.up)("VForm");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(be,{active:ve.isLoading,"z-indes":1e3},null,8,["active"]),r,(0,t._)("div",c,[(0,t._)("div",i,[(0,t._)("div",o,[(0,t._)("div",n,[p,(0,t._)("div",u,[(0,t._)("table",_,[m,(0,t._)("tbody",v,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(ve.order.products,((e,s)=>((0,t.wg)(),(0,t.iD)("tr",{class:"text-center",key:`${s} + ${ve.order.id}`},[(0,t._)("td",h,[(0,t._)("div",b,[(0,t._)("img",{src:e.product.imageUrl,alt:e.product.title,class:"cart-img me-3 rounded-3"},null,8,g),(0,t._)("div",null,[(0,t._)("h6",w,(0,l.zw)(e.product.title),1),(0,t._)("p",x," 數量："+(0,l.zw)(e.qty),1)])])]),(0,t._)("td",null,[e.product.price===e.product.origin_price?((0,t.wg)(),(0,t.iD)("p",y," NT$ "+(0,l.zw)(e.product.price),1)):((0,t.wg)(),(0,t.iD)("p",k,[(0,t.Uk)(" NT$ "+(0,l.zw)(e.product.price)+" ",1),f,(0,t._)("del",z,"NT$ "+(0,l.zw)(e.product.origin_price),1)]))])])))),128))])]),(0,t._)("div",$,[(0,t._)("div",D,[(0,t._)("div",T,[L,(0,t._)("p",M,"NT$ "+(0,l.zw)(Math.ceil(ve.order.total)),1)])])])])])]),(0,t._)("div",N,[(0,t._)("div",U,[V,(0,t._)("div",j,[(0,t._)("div",C,[(0,t.Wm)(xe,{ref:"form",onSubmit:he.checkPay},{default:(0,t.w5)((({errors:a})=>[(0,t._)("ul",O,[(0,t._)("li",W,[E,(0,t._)("p",q,"NT$ "+(0,l.zw)(Math.ceil(ve.order.total)),1)]),(0,t._)("li",A,[F,(0,t._)("p",H,(0,l.zw)(ve.order.id),1)]),(0,t._)("li",P,[S,(0,t._)("p",Y,(0,l.zw)(e.$filters.date(ve.order.create_at)),1)]),(0,t._)("li",I,[K,Z,(0,t.Uk)(" "+(0,l.zw)(ve.order.user.name),1)]),(0,t._)("li",B,[G,(0,t._)("p",J,(0,l.zw)(ve.order.user.email),1)]),(0,t._)("li",Q,[R,(0,t._)("p",X,(0,l.zw)(ve.order.user.tel),1)]),(0,t._)("li",ee,[se,ae,(0,t.Uk)(" "+(0,l.zw)(ve.order.user.address),1)]),(0,t._)("li",te,[le,ve.order.message?((0,t.wg)(),(0,t.iD)("p",re,(0,l.zw)(ve.order.message),1)):((0,t.wg)(),(0,t.iD)("p",de,"無"))]),(0,t._)("li",ce,[ie,(0,t._)("div",oe,[(0,t.Wm)(ge,{id:"pay",name:"付款方式",as:"select",class:(0,l.C_)(["form-select",{"is-invalid":a["付款方式"]}]),placeholder:"請選擇付款方式",rules:"required",modelValue:ve.pay,"onUpdate:modelValue":s[0]||(s[0]=e=>ve.pay=e)},{default:(0,t.w5)((()=>[ne,pe,ue,_e])),_:2},1032,["class","modelValue"]),(0,t.Wm)(we,{name:"付款方式",class:"invalid-feedback"})])]),(0,t._)("button",{type:"submit",class:"btn btn-danger",disabled:Object.keys(a).length>0}," 確認付款 ",8,me)])])),_:1},8,["onSubmit"])])])])])])])],64)}var he={data(){return{id:"",order:{user:{}},pay:"",isLoading:!1}},methods:{getOrder(){this.isLoading=!0,this.id=this.$route.params.id;const e=`https://vue3-course-api.hexschool.io/v2/api/hsiaoi/order/${this.id}`;this.$http.get(e).then((e=>{console.log(e),this.order=e.data.order,console.log(this.order),this.isLoading=!1,console.log(this.$route.params)})).catch((e=>{alert(e.response),this.isLoading=!1}))},checkPay(){const e=`https://vue3-course-api.hexschool.io/v2/api/hsiaoi/pay/${this.id}`;this.$http.post(e).then((e=>{console.log(e),alert("付款完成！謝謝您的購買 ✿"),this.$router.push("/complete")})).catch((e=>{alert(e.response)}))}},mounted(){this.getOrder()}},be=a(3744);const ge=(0,be.Z)(he,[["render",ve],["__scopeId","data-v-219984ea"]]);var we=ge}}]);
//# sourceMappingURL=382.176f7d87.js.map